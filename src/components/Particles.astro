---

import React, { useCallback } from "react";
import { tsParticles } from 'tsparticles-engine';
import { loadFull } from "tsparticles";

const { type = "stars" } = Astro.props;
---

<div id="tsparticles" class="absolute inset-0 z-[-1]"></div>

<script type="module">
  
export default function MyParticles() {
  const particlesInit = useCallback(async (engine) => {
    await loadFull(engine); // load all tsparticles features
  }, []);

    const starsOptions = {
      particles: {
        number: { value: 100 },
        color: { value: "#ffffff" },
        shape: { type: "circle" },
        opacity: { value: 0.8, random: true },
        size: { value: 1.5, random: true },
        move: {
          enable: true,
          speed: 0.2,
          direction: "top",
          outModes: { default: "out" }
        }
      }
    };

    const fireOptions = {
      particles: {
        number: { value: 80 },
        color: { value: ["#ff9900", "#ff6600", "#ff3300"] },
        shape: { type: "circle" },
        opacity: { value: 0.6, random: true },
        size: { value: 3, random: true },
        move: {
          enable: true,
          speed: 1,
          direction: "top",
          outModes: { default: "destroy" }
        }
      }
    };

    tsParticles.load("tsparticles", type === "fire" ? fireOptions : starsOptions);
</script>
